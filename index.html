<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Static Template</title>

    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"
      type="application/javascript"
    ></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.0.0-alpha.1/axios.min.js"
      integrity="sha512-xIPqqrfvUAc/Cspuj7Bq0UtHNo/5qkdyngx6Vwt+tmbvTLDszzXM0G6c91LXmGrRx8KEPulT+AfOOez+TeVylg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <script src="index.js"></script>

    <script></script>
  </head>

  <body>
    <div class="py-1 container mx-auto px-6">
      <div class=" ">
        <h2 class="text-5xl text-green-600">Heading</h2>
      </div>
      <div class="bg-gray-200" x-data="contract">
        <button @click="getAddress" class="bg-blue-800 text-white px-4 py-2 rounded-lg mt-4">
          Get Address
        </button>

        <span x-text="address"></span>

        <input
          x-model="title"
          type="text"
          class="border p-2 w-full mb-2 mt-6"
          placeholder="Contract Title"
        />

        <textarea
          x-model="content"
          type="text"
          class="border p-2 w-full mb-2 mt-6"
          rows="10"
          placeholder="Contract content..."
        ></textarea>

        <button @click="compile" class="bg-blue-800 text-white px-4 py-2 rounded-lg mt-4">
          compile
        </button>

        <p>ABI</p>
        <textarea
          readonly
          x-text="JSON.stringify(abi)"
          type="text"
          class="border p-2 w-full mb-2 mt-6"
          rows="10"
        ></textarea>

        <p>byteCode</p>
        <textarea
          readonly
          x-text="bytecode"
          type="text"
          class="border p-2 w-full mb-2 mt-6"
          rows="10"
        ></textarea>

        <button @click="deploy" class="bg-blue-800 text-white px-4 py-2 rounded-lg mt-4">
          Deploy
        </button>
        <span x-text="contractAddress"></span>
      </div>
    </div>

    <script type="module">
      window.onload = async () => {
        if (window.ethereum) {
          window.provider = new ethers.providers.Web3Provider(window.ethereum);
          await window.ethereum.enable();

          console.log('web3 loaded');
        } else {
          alert('No ETH browser extension detected.');
        }
      };
    </script>
  </body>
</html>
